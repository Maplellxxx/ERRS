<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.min.js"></script>
	<script src="js/vector.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.2.1/echarts-en.common.js"></script>
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<link href="css/projectList.css" rel="stylesheet">
	<style>
		*{
			margin:0px;
			padding:0px;
			background-color: rgba(0,0,0,0);
		}
		.active{
			color:#007ec7;
		}
		.btn1{
			width:100px;
			height:100%;
			border:none;
			background-color: rgba(0,0,0,0);
			font-size: 30px;
			float:left;
			color:#007ec7;
		}
		.BUTTON{
			width:400px;
			height:50px;
			background-color: rgba(0,0,0,0);
			text-align: center;
			margin-left:30%;
		}
		.btn2{
			width:50px;
			height:100%;
			font-size: 18px;
			background-color: rgba(0,0,0,0);
			border:none;

			/*float:left;*/
		}
		/*.tr1{
			background-color: #ebf9ff;
		}*/
		.Btn1{
			width:25px;
			height:25px;
			border-radius: 50%;
			border:none;
			font-size: 15px;
			background-color: rgba(0,0,0,0);
			/*color:white;*/
		}
		.FH{
			width:100%;
			height:100px;
		}
		.button1{
			border:none;
			font-weight: bold;
			color:#009efb;
			background-color: rgba(0,0,0,0);
		}
	</style>
</head>
<body style="background-color: rgba(0,0,0,0);">
<div class="container" style="margin-top: 10px;">
	<div class="wd-header">
		<!--<div class="FH" style="text-align: center;">-->

		<!--<p style="color:black; font-size: 14px;margin-top: 10px;">按时间搜索(仅限当日时间)</p>-->
		<!--<p style="color:black;font-size: 16px;font-family: '微软雅黑'; margin-top: 10px;">起始时间<span style="margin-left: 20px;margin-right: 20px;font-size: 16px;cursor: pointer;color:black;"><i class="fas fa-chevron-left" style="font-size: 16px; margin-right: 10px;" @click="minus1"></i>{{time1}}:00<i class="fas fa-chevron-right" style="font-size: 14px; margin-left: 10px; color:black;" @click="plus1"></i></span>  结束时间<span style="margin-left: 20px;margin-right: 20px;font-size: 16px;cursor: pointer;color:black;"><i class="fas fa-chevron-left" style="font-size: 16px; margin-right: 10px;" @click="minus2"></i>{{time2}}:00<i class="fas fa-chevron-right" style="font-size: 16px; margin-left: 10px; color:black;" @click="plus3"></i></span></p>-->
		<!--<button @click="click4()" style="position: relative; top:-30px; width:50px; height:30px; left:300px; border:none; color:black;background-color: rgba(0,0,0,0); font-size: 16px; font-weight: bold;">Sel</button>-->
		<!--<button @click="click5()" style="position: relative; top:-30px; width:50px; height:30px; right:300px;border:none; color:black; background-color: rgba(0,0,0,0);font-size: 16px; font-weight: bold;">All</button>-->
		<!--</div>-->
		<div class="tabbable" style="">

			<ul class="nav nav-tabs">

				<li class="wd-tab1 active">
					<a href="#" data-toggle="tab" style="background-color: #f0f0f0;">可用设备</a>
				</li>
			</ul>
		</div>
	</div>
	<div class="table-responsive">
		<table class="table table-striped table-bordered table-hover" v-if="tab == 1" style="background-color: white;">
			<thead>
			<tr>
				<th><p>编号</p></th>
				<th><p>名称</p></th>
				<th><p>地点</p></th>
				<th><p>品牌</p></th>
				<th><p>型号</p></th>
				<!-- <th><p>状态</p></th> -->
				<th><center><p>操作</p></center></th>

			</tr>
			</thead>
			<tbody>
			<tr v-for="(item,index) in list" v-if="m <= index && index <= n" class="tr1">
				<td><a href="javascript:void(0);" @click="info(index)">{{item.number}}</a></td>
				<td>{{item.name}}</td>
				<td>{{item.location}}</td>
				<td>{{item.brand}}</td>
				<td>{{item.model}}</td>
				<td><center><input type="submit" class="button1" @click="appoint(index)" value="预约"></center></td>
			</tr>
			</tbody>
		</table>

		<table class="table table-striped table-bordered table-hover" v-if="tab == 2">
			<thead>
			<tr>
				<th><p>编号</p></th>
				<th><p>名称</p></th>
				<th><p>地点</p></th>
				<th><p>品牌</p></th>
				<th><p>型号</p></th>
				<!-- <th><p>状态</p></th> -->
				<th><p>操作</p></th>

			</tr>
			</thead>
			<tbody>
			<tr v-for="(item,index) in list4" v-if="m <= index && index <= n" class="tr1">
				<td><a href="设备信息.html">{{item.number}}</a></td>
				<td>{{item.name}}</td>
				<td>{{item.location}}</td>
				<td>{{item.brand}}</td>
				<td>{{item.model}}</td>
				<!--<td style="text-align: center;"><input type="submit" v-model="btn4" @click="appint(index)" value="预约"></td>-->
				<td>sssssssss</td>
				<!--<input type="submit" v-model="btn4" @click="appoint(index)" value="预约">-->
			</tr>
			</tbody>
		</table>
	</div>
	<div class="BUTTON">
		<button @click="Click1()" class="btn1"><i class="fa fa-chevron-circle-left" aria-hidden="true"></i></button>
		<button v-for="(item,index) in list1" @click="Click3(index)" v-bind:class="{'active': c == index + 1}" class="btn2">{{item}}</button>
		<button @click="Click2()" class="btn1" style="float:right;"><i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>
	</div>
</div>
<script th:inline="javascript">
	var vm = new Vue({
		el:'.container',
		data:{
			list:[[${info}]],
			EndTime:[],
			list1:[],
			m:0,
			n:0,
			c:0,
			time1:0,
			time2:0,
			tab:1,
			// list3:[],
			list4:[],
		},
		created:function(){
			this.initData(null);
		},
		methods:{
			appoint(index){
				window.location.href="/appointment/"+this.list[index].id+"/today"
			},
			info(index){
				window.location.href="/equipment/"+this.list[index].id
			},
			initData(){
				for(var i = 0; i<this.list.length; i++){
					// console.log(this.list[i].StartTime);
					this.EndTime[i] = this.list[i].StartTime + 1;

				}
				var a = Math.ceil(this.list.length/15);
				// console.log(a);
				for(var i = 0; i< a;i++){
					this.list1[i] = i+1;
				}
				// console.log(this.list1);
				this.m = 0;
				this.n = 14;
				this.c = Math.ceil(this.n/15);


			},
			Click1(){
				if(this.m>0){
					this.m = this.m - 15;
					this.c = this.c -1;
				}else{
					this.m = 0;
				}
				this.n = this.m + 14;
			},
			Click2(){
				if(this.n < this.list.length-1){
					this.n = this.n + 15;
					this.m = this.n - 14;
					this.c = this.c+1;
				}else{
					var k = this.list.length%15;
					this.n = this.list.length - 1;
					this.m = this.n-k+1;
					// console.log(this.n);
					// console.log(this.m);
				}


			},
			Click3(index){
				// var h = index + 1;
				// this.n = h * 10 - 1;
				// this.m = this.n - 9;
				// this.c = Math.floor(this.n/10) + 1;
				var h = index + 1;
				this.n = h * 15 - 1;
				this.m = this.n - 14;
				this.c = h;

			},
			click4(){
				this.list4 = [];
				var t = 0;
				for(var d=0;d<this.list.length;d++){
					var g1 = this.list[d].Time1;
					var g2 = this.list[d].Time2;


					if(g1 <= this.time1 && g2 >= this.time2){
						this.list4[t] = this.list[d];

						t++;


					}

				}
				this.tab = 2;

				this.a = Math.ceil(t / 10);
				if(this.a == 0){
					// console.log(this.a);
					this.list1=[1]
				}else{

					for(var b = 1 ; b<=this.a; b++){
						this.list1 = b;

					}
				}
				this.m = 0;
				this.n = 9;

			},
			click5(){
				this.tab = 1;
				this.a = Math.ceil(this.list.length / 10);
				for(var b = 1 ; b<=this.a; b++){
					this.list1 = b;
					// console.log(this.list3.length);
				}
				this.time1 = 0;
				this.time2 = 0;

			},
			plus1(){
				if(this.time1 < 23){
					this.time1 = this.time1 + 1;
					if(this.time2 - this.time1 > 1){
						this.time2 = this.time2;
					}else{
						this.time2 = this.time1 + 1;
					}

				}
			},
			minus1(){
				if(this.time1 > 0){
					this.time1 = this.time1 - 1;
				}
			},
			plus3(){
				if(this.time2 >= this.time1 && this.time2 <24){

					this.time2 = this.time2 + 1;
				}

			},
			minus2(){
				if(this.time2 > this.time1 && this.time2 > 1){
					this.time2 = this.time2 - 1;
					if(this.time2 - this.time1 > 1){
						this.time1 = this.time1;
					}else{
						this.time1 = this.time2 - 1;
					}
				}
			}

		}
	})
</script>
</body>
</html>